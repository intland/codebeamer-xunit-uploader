plugins {
    id "org.sonarqube" version "2.5"
    id "org.jenkins-ci.jpi" version "0.22.0"
}

group 'org.jenkins-ci.plugins'
description = 'This Plugin uploads XUnit results to CodeBeamer'

jenkinsPlugin {
    coreVersion = '2.46.3'
    displayName = 'CodeBeamer XUnit Uploader'
    shortName = 'xunitUploader'

    compatibleSinceVersion = '1.0-SNAPSHOT'

    developers {
        developer {
            id 'mgansler'
            name 'Martin Gansler'
        }
    }

    disabledTestInjection = false
}

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    mavenLocal()
}

compileJava {
    options.compilerArgs += '-Xlint:unchecked'
    options.compilerArgs += '-Xlint:deprecation'
}

dependencies {
    jenkinsPlugins(group: 'org.jenkins-ci.plugins', name: 'credentials', version: '2.1.16', ext:'jar')
    jenkinsPlugins(group: 'org.jenkins-ci.plugins', name: 'plain-credentials', version: '1.4', ext:'jar')

    compile(group: 'log4j', name: 'log4j', version: '1.2.17')

    compile(group: 'com.intland', name: 'codebeamer-api-client', version: '1.0-SNAPSHOT')

    jenkinsTest('org.jenkins-ci.main:jenkins-test-harness:2.8@jar')
}
